<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>Business Casual - Start Bootstrap Theme</title>
        <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
        <!-- Font Awesome icons (free version)-->
        <script src="https://use.fontawesome.com/releases/v5.15.4/js/all.js" crossorigin="anonymous"></script>
        <!-- Google fonts-->
        <link href="https://fonts.googleapis.com/css?family=Raleway:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet" />
        <link href="https://fonts.googleapis.com/css?family=Lora:400,400i,700,700i" rel="stylesheet" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="css/styles.css" rel="stylesheet" />
    </head>
    <body>
      <style type="text/css">
        *{
          padding: 0;
          margin: 0;
        }
        #youku{
          width: 1189px;
          height: 380px;
          margin: 100px auto;
          position: relative;
          overflow: hidden;
        }
        #youku ul{
          list-style: none;
        }
        #youku .tuul li{
          position: absolute;
          background-color: black;
        }
        #youku li.waiting{
          display: none;
        }
        #youku li img{
          width: 100%;
          height: 100%;
        }


        #youku .anniu .zuo{
          position: absolute;
          width: 45px;
          height: 45px;
          background:url(images/zuo.png) no-repeat;
          top:100px;
          left:10px;
          z-index: 1000;
          cursor: pointer;
        }
        #youku .anniu .you{
          position: absolute;
          width: 45px;
          height: 45px;
          background:url(images/you.png) no-repeat;
          top:100px;
          right:10px;
          z-index: 1000;
          cursor: pointer;
        }

        #youku li.no0{width: 174px;height:122px;left:-116px;top:100px;z-index: 777;}
        #youku li.no1{width: 356px;height:223px;left:0px;top:26px;z-index: 888;}
        #youku li.no2{width: 642px;height:273px;left:274px;top:0px;z-index: 999;}
        #youku li.no3{width: 356px;height:223px;left:834px;top:26px;z-index: 888;}
        #youku li.no4{width: 174px;height:122px;left:1097px;top:100px;z-index: 777;}

        #youku li.no1 img , #youku li.no3 img{
          opacity: 0.3;
        }
        #youku .xiaoyuandian{
          width: 600px;
          height: 20px;
          position: absolute;
          top: 318px;
          left: 454px;
        }
        #youku .xiaoyuandian ul li{
          float: left;
          width: 16px;
          height: 16px;
          background-color: blue;
          margin-right: 10px;
          border-radius: 100px;
          cursor: pointer;
        }
        #youku .xiaoyuandian ul li.cur{
          background-color:green;
        }
      </style>
      <div id="youku">
        <div class="anniu">
          <span class="zuo"></span>
          <span class="you"></span>
        </div>
        <ul class="tuul">
          <li class="no0"><a href="#"><img src="images/0.jpg" /></a></li>
          <li class="no1"><a href="#"><img src="images/1.jpg" /></a></li>
          <li class="no2"><a href="#"><img src="images/2.jpg" /></a></li>
          <li class="no3"><a href="#"><img src="images/3.jpg" /></a></li>
          <li class="no4"><a href="#"><img src="images/4.jpg" /></a></li>
          <li class="waiting"><a href="#"><img src="images/5.jpg" /></a></li>
          <li class="waiting"><a href="#"><img src="images/6.jpg" /></a></li>
          <li class="waiting"><a href="#"><img src="images/7.jpg" /></a></li>
          <li class="waiting"><a href="#"><img src="images/8.jpg" /></a></li>
          <li class="waiting"><a href="#"><img src="images/9.jpg" /></a></li>
          <li class="waiting"><a href="#"><img src="images/10.jpg" /></a></li>
          <li class="waiting"><a href="#"><img src="images/11.jpg" /></a></li>
          <li class="waiting"><a href="#"><img src="images/12.jpg" /></a></li>
        </ul>
        <div class="xiaoyuandian">
          <ul>
            <li></li>
            <li></li>
            <li class="cur"></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
          </ul>
        </div>
      </div>
    </body>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
    <script type="text/javascript">
      $(function(){
          //定義一個初始速度
          var sudu = 600;
          var shangdi = false;

          //定義json
          var json0 = {"width":"174px","height":"122px","left":"-116px", "top":"100px"};
          var json1 = {"width":"356px","height":"223px","left":"0px", "top":"26px"};
          var json2 = {"width":"642px","height":"273px","left":"274px", "top":"0"};
          var json3 = {"width":"356px","height":"223px","left":"834px", "top":"26px"};
          var json4 = {"width":"174px","height":"122px","left":"1097px", "top":"100px"};

          var nowimg = 2;

          var timer = setInterval(youanniuyewu,2000);
          $("#youku").mouseenter(
            function() {
              clearInterval(timer);
            }
          );

          $("#youku").mouseleave(
            function() {
              clearInterval(timer);
              timer = setInterval(youanniuyewu,2000);
            }
          );


          $(".you").click(youanniuyewu);
          function youanniuyewu(){
              if(!$(".tuul li").is(":animated") || shangdi == true){
                if(nowimg < 12){
                  nowimg ++;
                }else{
                  nowimg = 0;
                }
                $(".xiaoyuandian li").eq(nowimg).addClass("cur").siblings().removeClass("cur");

                //先交換位置
                $(".no1").animate(json0,sudu);
                $(".no2").animate(json1,sudu);
                $(".no3").animate(json2,sudu);
                $(".no4").animate(json3,sudu);
                $(".no0").css(json4);

                //再交換身份
                $(".no0").attr("class","waiting");
                $(".no1").attr("class","no0");
                $(".no2").attr("class","no1");
                $(".no3").attr("class","no2");
                $(".no4").attr("class","no3");
                //上面的交換身份，把no0搞沒了！所以，我們讓no1前面那個人改名為no0
                if($(".no3").next().length != 0){
                  //如果no3後面有人，那麼改變這個人的姓名為no4
                  $(".no3").next().attr("class","no4");
                }else{
                  //no3前面沒人，那麼改變此時佇列最開頭的那個人的名字為no0
                  $(".tuul li:first").attr("class","no4");
                }

                //發現寫完上面的程式之後，no6的行內樣式還是json0的位置，所以強制：
                $(".no4").css(json4);
              }

            }

          $(".zuo").click(
            function(){

              if(!$(".tuul li").is(":animated") || shangdi == true){

                if(nowimg > 0){
                  nowimg --;
                }else{
                  nowimg = 8;
                }
                $(".xiaoyuandian li").eq(nowimg).addClass("cur").siblings().removeClass("cur");
                //先交換位置:
                $(".no0").animate(json1,sudu);
                $(".no1").animate(json2,sudu);
                $(".no2").animate(json3,sudu);
                $(".no3").animate(json4,sudu);
                $(".no4").css(json0);

                //再交換身份
                $(".no4").attr("class","waiting");
                $(".no3").attr("class","no4");
                $(".no2").attr("class","no3");
                $(".no1").attr("class","no2");
                $(".no0").attr("class","no1");

                //上面的交換身份，把no0搞沒了！所以，我們讓no1前面那個p改名為no0
                if($(".no1").prev().length != 0){
                  //如果no1前面有p，那麼改變這個p的姓名為no0
                  $(".no1").prev().attr("class","no0");
                }else{
                  //no1前面沒p，那麼改變此時佇列最後的那個p的名字為no0
                  $(".tuul li:last").attr("class","no0");
                }

                $(".no0").css(json0);
              }

            }
          );

          $("#youku .xiaoyuandian li").click(
            function(){
              sudu = 100; //臨時把這個速度變化一下
              shangdi = true; //flag

              var yonghuandexuhao = $(this).index();
              if(yonghuandexuhao > nowimg ){
                var cishu = yonghuandexuhao - nowimg;
                console.log("主人，我已經通知上帝幫你按右按鈕" + cishu + "次");

                for(var i = 1 ; i<= cishu ; i++){
                  $(".you").trigger("click"); //讓上帝幫你按一次又按鈕
                }

              }else{
                var cishu = nowimg - yonghuandexuhao;
                console.log("主人，我已經通知上帝幫你按左按鈕" + cishu + "次");
                for(var i = 1 ; i<= cishu ; i++){
                  $(".zuo").trigger("click"); //讓上帝幫你按一次又按鈕
                }
              }
              nowimg = yonghuandexuhao;
              sudu = 600; //再把速度恢復
              shangdi = false;
            }

          );


      });
    </script>

        <header>
            <h1 class="site-heading text-center text-faded d-none d-lg-block">
                <span class="site-heading-upper text-primary mb-3"><center>Welcome</center></span>
                <span class="site-heading-lower"><center><b>歡迎光臨</b></center></span>
            </h1>
        </header>
        <!-- Navigation-->
        <nav class="navbar navbar-expand-lg navbar-dark py-lg-4" id="mainNav">
            <div class="container">
                <a class="navbar-brand text-uppercase fw-bold d-lg-none" href="index.html">Start Bootstrap</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav mx-auto" id='menu'>
                        <li class="nav-item px-lg-4"><a class="nav-link text-uppercase" href="index.html">Home</a></li>
                        <li class="nav-item px-lg-4"><a class="nav-link text-uppercase" href="about.html">About</a></li>
                        <li class="nav-item px-lg-4"><a class="nav-link text-uppercase" href="products.html">Products</a></li>
                        <li class="nav-item px-lg-4"><a class="nav-link text-uppercase" href="store.html">Store</a></li>
                    </ul>
                </div>
            </div>
        </nav>

        <footer class="footer text-faded text-center py-5">
            <div class="container"><p class="m-0 small">Copyright &copy; Your Website 2021</p></div>
        </footer>
        <!-- Bootstrap core JS-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
        <!-- Core theme JS-->
       <script src="./js/menu.js"></script>
    </body>
</html>
